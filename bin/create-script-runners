#!/bin/bash

DIR="$(pwd)"
out_dir="~/bin"

for script in $DIR/scripts/apm_*; do

    # pulling out filename from path, runner needs no extension
    runner=${script##*/}
    runner=${runner%.*}
    file=$(python -c 'import os, sys; sys.stdout.write(os.path.abspath("./scripts/apm_bulk_run.py"))')

    # creating runner file and setting as executable
    echo "Creating runner for script $runner.py"
    touch "$out_dir$runner"
    chmod ug+x "$out_dir$runner"

    # echoing content into file
    echo "#!/bin/bash" > "$out_dir$runner"
    echo "python3 \"$file\" "\$@"" >> "$out_dir$runner"
done

echo "Added all scripts to "$out_dir
